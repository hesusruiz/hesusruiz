<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Proof of Democracy (PoD): the Consensus Algorithm used in Alastria RedT</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Opengraph Facebook Meta Tags -->
    <meta property="og:title" content="Proof of Democracy (PoD): the Consensus Algorithm used in Alastria RedT">
    <meta property="og:type" content="website">
    <meta property="og:description" content="Proof of Democracy (PoD): the Consensus Algorithm used in Alastria RedT">
    <meta property="og:site_name" content="Articles from Jesus Ruiz">
    <meta property="og:url" content="https://hesusruiz.github.io/index.html">

    <script src="https://www.w3.org/Tools/respec/respec-w3c" async="" class="remove"></script>
    <script class="remove">
        var respecConfig = {
            latestVersion: "https://hesusruiz.github.io/index.html",
            github: "https://github.com/hesusruiz/hesusruiz.github.io",
            editors: [
                {
                    company: "JesusRuiz",
                    companyURL: "https://hesusruiz.github.io/",
                    email: "hesusruiz@gmail.com",
                    name: "Jesus Ruiz",
                },
            ],
            localBiblio: {
                "DEP-DSS": {
                        date: "2019-10",
                        href: "https://ec.europa.eu/digital-building-blocks/wikis/display/DIGITAL/Qualified+electronic+signature+-+QES+validation+algorithm",
                        publisher: "European Commission",
                        title: "Algorithm for Validation of qualified and advanced signatures and seals",
                },
                "DID-DNS": {
                        href: "https://tools.ietf.org/html/draft-mayrhofer-did-dns-01",
                        publisher: "IETF",
                        status: "Internet Draft",
                        title: "The Decentralized Identifier (DID) in the DNS",
                },
                "DID-ELSI": {
                        date: "04 June 2023",
                        href: "https://alastria.github.io/did-method-elsi/",
                        title: "DID ETSI Legal person Semantic Identifier Method Specification (did:elsi)",
                },
                "DID-ONBOARDING": {
                        date: "04 June 2023",
                        href: "https://alastria.github.io/did-method-elsi/onboarding.html",
                        title: "Onboarding example with LEARCredential using did:elsi",
                },
                "DID-PRIMER": {
                        href: "https://github.com/WebOfTrustInfo/rebooting-the-web-of-trust-fall2017/blob/master/topics-and-advance-readings/did-primer.md",
                        publisher: "Rebooting the Web of Trust 2017",
                        title: "DID Primer",
                },
                "DIF.PresentationExchange": {
                        href: "https://identity.foundation/presentation-exchange/spec/v2.0.0/",
                        title: "Presentation Exchange 2.0.0",
                },
                "ETSI-CERTOVERVIEW": {
                        date: "2020-07",
                        href: "https://www.etsi.org/deliver/etsi_en/319400_319499/31941201/01.04.02_20/en_31941201v010402a.pdf",
                        publisher: "ETSI",
                        title: "ETSI EN 319 412-1 V1.4.2 (2020-07) - Electronic Signatures and Infrastructures (ESI); Certificate Profiles; Part 1: Overview and common data structures",
                },
                "ETSI-JADES": {
                        date: "2021-03",
                        href: "https://www.etsi.org/deliver/etsi_ts/119100_119199/11918201/01.01.01_60/ts_11918201v010101p.pdf",
                        publisher: "ETSI",
                        title: "ETSI TS 119 182-1 V1.1.1 (2021-03) - Electronic Signatures and Infrastructures (ESI); JAdES digital signatures; Part 1: Building blocks and JAdES baseline signatures",
                },
                "ETSI-LEGALPERSON": {
                        date: "2020-07",
                        href: "https://www.etsi.org/deliver/etsi_en/319400_319499/31941203/01.02.01_60/en_31941203v010201p.pdf",
                        publisher: "ETSI",
                        title: "ETSI EN 319 412-3 V1.2.1 (2020-07) - Electronic Signatures and Infrastructures (ESI); Certificate Profiles; Part 3: Certificate profile for certificates issued to legal persons",
                },
                "NIST-AUTH": {
                        date: "October 2016",
                        href: "https://nvlpubs.nist.gov/nistpubs/SpecialPublications/NIST.SP.800-178.pdf",
                        title: "NIST Special Publication 800-178: A Comparison of Attribute Based Access Control (ABAC) Standards for Data Service Applications",
                },
                "OWASP-TRANSPORT": {
                        href: "https://www.owasp.org/index.php/Transport_Layer_Protection_Cheat_Sheet",
                        title: "Transport Layer Protection Cheatsheet",
                },
                "OpenID.Core": {
                        date: "8 November 2014",
                        href: "http://openid.net/specs/openid-connect-core-1_0.html",
                        title: "OpenID Connect Core 1.0 incorporating errata set 1",
                },
                "OpenID.SIOP2": {
                        date: "28 January 2022",
                        href: "https://openid.bitbucket.io/connect/openid-connect-self-issued-v2-1_0.html",
                        title: "Self-Issued OpenID Provider v2",
                },
                "OpenID.VCI": {
                        date: "3 February 2023",
                        href: "https://openid.net/specs/openid-4-verifiable-credential-issuance-1_0.html",
                        title: "OpenID for Verifiable Credential Issuance",
                },
                "OpenID.VP": {
                        date: "21 April 2023",
                        href: "https://openid.net/specs/openid-4-verifiable-presentations-1_0.html",
                        title: "OpenID for Verifiable Presentations",
                },
                "PBFT": {
                        date: "November 2002",
                        href: "https://pmg.csail.mit.edu/papers/bft-tocs.pdf",
                        title: "Practical Byzantine Fault Tolerance and Proactive Recovery",
                },
                "RFC6749": {
                        href: "https://www.rfc-editor.org/rfc/rfc6749.html",
                        title: "The OAuth 2.0 Authorization Framework",
                },
                "RFC7515": {
                        href: "https://www.rfc-editor.org/rfc/rfc7515",
                        title: "JSON Web Signature (JWS)",
                },
                "RFC7519": {
                        href: "https://www.rfc-editor.org/rfc/rfc7519",
                        title: "JSON Web Token (JWT)",
                },
                "RFC8414": {
                        href: "https://www.rfc-editor.org/rfc/rfc8414",
                        title: "OAuth 2.0 Authorization Server Metadata",
                },
                "RFC8725": {
                        href: "https://www.rfc-editor.org/rfc/rfc8725",
                        title: "JSON Web Token Best Current Practices",
                },
            },
        };
    </script>
    <link rel="stylesheet" href="./assets/templates/respec/additional.css">
</head>

<body>
    <p class="copyright">
        Copyright Â© 2023 the document editors/authors. Text is available under the <a rel="license" href="https://creativecommons.org/licenses/by/4.0/legalcode"> Creative Commons Attribution 4.0 International Public License</a>
    </p>


<section id='abstract'>
    <p>`Proof of Democracy` (PoD) is the consensus algorithm used in Alastria RedT and RedB and in the future ISBE (Spanish Blockchain Services Infrastructure).
    </p>
    <p>In a classical distributed systems implementation, the technical properties of the consensus algorithm determine the properties of the system as a whole.
    </p>
    <p>This is not true in a decentralised system, where the desired properties of the system (trust, decentralisation, inclusivity, fairness, accountability, compliance) are determined by both the technical properties and governance model of the consensus algorithm.
    </p>
    <p>We describe here the Proof of Democracy consensus algorithm used since several years in the Alastria RedT blockchain network, and that will be used in the future Spanish blockchain network.
    </p>
</section>
<section><h2>The properties of the Proof of Democracy consensus algorithm</h2>

    <p>I focus in this document of the consensus algorithm, so I will normally talk about the nodes executing the consensus algorithm, which I call `Consensus Nodes` to avoid the confusing terminology used normally in the blockchain space, where the names are usually chosen to catch the attention, not to describe in a precise way the thing they are naming.
    </p>
    <section><h2>Participation</h2>

        <p>Anybody can participate in the operation of the network, subject to a set of rules which are transparent, fair and inclusive.
        </p>
        <p>There is not any formal contract that entities have to sign with some organisation in order to operate a Consensus node and participate in the execution of the consensus algorithm.
        </p>
        <p>But they have to accept to abide to the public Operational Rules for Consensus Nodes, which means that they self-declare things like their compromise to comply with the EU regulatory framework, to make their best efforts in maintaining their nodes 24x7x365, and to collaborate with the operators of the other Consensus Nodes to keep the network functioning.
        </p>
        <p>It is important that identities of the Consensus Nodes are public, including the real-world identities of the organisations operating them. This helps with a lot of things, like transparency, accountability, incentives, etc. More on this later.
        </p>
    </section>
    <section><h2>Rule of law</h2>

        <p>The Consensus Nodes have to comply with the EU legal framework. We are aiming to build a blockchain infrastructure as a Coomon Good, so there is no way around full compliance.
        </p>
        <p>In particular, it is forbidden by the Operational Rules mentioned above to store in the blockchain any type of personal data. This means that:
        </p>
        <ul>
            <li>It is forbidden to store any form of digital identity of a natural person (whether a DID or any other type of identification)
            </li>
            <li>It is forbidden to store encrypted personal data (it is still considered personal data).
            </li>
            <li>It is forbidden to store a hash of personal data if it could be used, combined with other information on-chain or off-chain, to identify a natural person. Only after a formal PIA (Privacy Impact Assessment) could an organisation store a hash derived from personal information.
            </li>
            <li>It is forbidden to use Tokens or NFTs that have personal information inside it. Most of the use cases that I have seen in public blockchain networks are simply violating the GDPR.
            </li>
        </ul>
        <p>Those prohibitions may seem too restrictive, but they are not. Actually, I have never seen any application useful to improve society and the lives of citizens that requires to store personal data in a public registry (blockchain or not). The only reasons for doing that are the laziness or ignorance of the developers, or just the lack of interest in protecting the citizens because the economic factors are considered more important.
        </p>
        <p>Those behaviours are against democratic values and are not accepted in our network, and the offenders are subject to their expulsion (via voting, as explained later).
        </p>
    </section>
    <section><h2>Transparency</h2>

        <p>Transparency
        </p>
        <p>Transparency means that decisions taken and their enforcement are done in a manner that follows rules and regulations. It also means that information is freely available and directly accessible to those who will be affected by such decisions and their enforcement. It also means that enough information is provided and that it is provided in easily understandable forms and media
        </p>
    </section>
</section>
<section><h2>The technical properties of the consensus algorithm</h2>

    <p>The blockchain technology is the Ethereum-compatible <a href="https://consensys.net/quorum/developers/">Hyperledger Besu and GoQuorum</a> blockchain clients which implement a technical consensus algorithm based on a variant of [[[PBFT]]].
    </p>
    <p>If you are an expert on distributed systems you can skip this section, but otherwise I recommend you to continue with me. There is a very high probability that you do not really know how the blockchain works, because most of the descriptions out there are from ignorant people who try to be cool by "explaining" how blockchain technology works.
    </p>
    <p>To be clear, I will use Ethereum as the blockchain technology for the explanations. There are currently several different technologies and they may or may not work like Ethereum. Some of them are very similar in nature, but there is not guarantee that my explanations apply to all of them.
    </p>
    <p>In addition, most of the description below applies to PoW, PoS and PoD consensus algorithms. I will explicitly mention it when I talk about one specific consensus technology.
    </p>
    <section><h2>The two types of nodes</h2>

        <p>In a network there are two types of nodes:
        </p>
        <ol>
            <li>The nodes that just participate in the network to support applications that read and write to the blockchain. We will call them <code>Regular</code> nodes.
            </li>
            <li>The nodes that execute the consensus algorithm, which I call <code>Consensus</code> nodes. I use this term because there are different names in use in the blockchain space, and like many things in the blockchain space the names are intended to catch the attention of the reader, more than try to fit the actual function of the nodes. Even Consensys (the developers of the blockchain technology used here) call them Validators, when they do not really validate anything, at least from the point of the Regular nodes.
            </li>
        </ol>
        <p>Most of the nodes are <code>Regular</code> and they can just come and go, be turned on or off by their owners. They can not affect the operation of the network if they are offline. The only thing that may be impacted is the application of the organisation that uses that node to connect to the network. In other words, reliability of a Regular node only affects the owner of that node and to the applications (off-chain) that depend on that node.
        </p>
        <p>The <code>Consensus</code> nodes on the other hand are critical for the functioning of the network
        </p>
    </section>
</section>
<section id='references'>
</section>


</body>
</html>
