<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>EU Digital COVID Certificate: lessons for SSI and W3C Verifiable Credentials implementers | Jesus Ruiz</title><meta name=keywords content><meta name=description content="Most Self-Sovereign Identity (SSI) implementations conflate different concepts into one tightly coupled thing. They typically merge together Identification, Verifiable Credentials and a Verifiable Data Repository.
They claim that new identification systems for citizens are required in order to use Verifiable Credentials for solving the problems that citizens have with current identity systems.
In addition, many SSI systems insist on registering the DIDs of the citizens in an immutable public repository (e."><meta name=author content><link rel=canonical href=https://hesusruiz.github.io/posts/lessons_eudcc/><link crossorigin=anonymous href=/assets/css/stylesheet.min.ec8da366ca2fb647537ccb7a8f6fa5b4e9cd3c7a0d3171dd2d3baad1e49c8bfc.css integrity="sha256-7I2jZsovtkdTfMt6j2+ltOnNPHoNMXHdLTuq0eSci/w=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://hesusruiz.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://hesusruiz.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://hesusruiz.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://hesusruiz.github.io/apple-touch-icon.png><link rel=mask-icon href=https://hesusruiz.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="EU Digital COVID Certificate: lessons for SSI and W3C Verifiable Credentials implementers"><meta property="og:description" content="Most Self-Sovereign Identity (SSI) implementations conflate different concepts into one tightly coupled thing. They typically merge together Identification, Verifiable Credentials and a Verifiable Data Repository.
They claim that new identification systems for citizens are required in order to use Verifiable Credentials for solving the problems that citizens have with current identity systems.
In addition, many SSI systems insist on registering the DIDs of the citizens in an immutable public repository (e."><meta property="og:type" content="article"><meta property="og:url" content="https://hesusruiz.github.io/posts/lessons_eudcc/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-05-12T20:19:00+02:00"><meta property="article:modified_time" content="2022-05-12T20:19:00+02:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="EU Digital COVID Certificate: lessons for SSI and W3C Verifiable Credentials implementers"><meta name=twitter:description content="Most Self-Sovereign Identity (SSI) implementations conflate different concepts into one tightly coupled thing. They typically merge together Identification, Verifiable Credentials and a Verifiable Data Repository.
They claim that new identification systems for citizens are required in order to use Verifiable Credentials for solving the problems that citizens have with current identity systems.
In addition, many SSI systems insist on registering the DIDs of the citizens in an immutable public repository (e."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://hesusruiz.github.io/posts/"},{"@type":"ListItem","position":2,"name":"EU Digital COVID Certificate: lessons for SSI and W3C Verifiable Credentials implementers","item":"https://hesusruiz.github.io/posts/lessons_eudcc/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"EU Digital COVID Certificate: lessons for SSI and W3C Verifiable Credentials implementers","name":"EU Digital COVID Certificate: lessons for SSI and W3C Verifiable Credentials implementers","description":"Most Self-Sovereign Identity (SSI) implementations conflate different concepts into one tightly coupled thing. They typically merge together Identification, Verifiable Credentials and a Verifiable Data Repository.\nThey claim that new identification systems for citizens are required in order to use Verifiable Credentials for solving the problems that citizens have with current identity systems.\nIn addition, many SSI systems insist on registering the DIDs of the citizens in an immutable public repository (e.","keywords":[],"articleBody":"Most Self-Sovereign Identity (SSI) implementations conflate different concepts into one tightly coupled thing. They typically merge together Identification, Verifiable Credentials and a Verifiable Data Repository.\nThey claim that new identification systems for citizens are required in order to use Verifiable Credentials for solving the problems that citizens have with current identity systems.\nIn addition, many SSI systems insist on registering the DIDs of the citizens in an immutable public repository (e.g., a blockchain network), claiming that this is needed in order to increase trust and efficiency.\nBoth claims are completely false, and I will use the EU Digital COVID Certificate (EUDCC) implementation to show why.\nThe EUDCC does not use the W3C VC data model and is not based in blockchain, but it can be considered as a type of Verifiable Credential. From the technical and operational point of view, it provides many insights for the incipient world of SSI and W3C Verifiable Credentials. In particular:\nWe do not have to wait for the future EU Digital Wallet to start reaping the benefits of Verifiable Credentials. An immense amount of paper and PDF documents can be converted to secure and efficient Verifiable Credentials in all types of industries, solving real problems of the citizens and improving the trust and efficiency of the society.\nDIDs of citizens should NEVER be registered in any public repository, and this applies to any type of personal data including Verifiable Credentials or hashes derived from personal data. Many SSI implementations insist on doing it, most probably due to ignorance of designers or even by laziness of programmers. I have not yet found a realistic use case that requires registering personal data in any public repository.\nAs a bonus from not registering any personal data in the public repository, the system is massively parallel and can scale to millions of credentials issued and verified without any impact on performance.\nInclusivity requires support for paper format without reducing trust or privacy, something I call Verifiable Paper. Most SSI implementations do not support paper format, or if they do it is ate the expense of reduced privacy and risk of tracking of citizen’s usage of credentials.\nIn this short document I use the EUDCC implementation as an example to illustrate the points above. In addition, the exercise also shows possible paths to improve the current EUDCC implementation by converting it into a full-fledged Verifiable Credentials ecosystem.\nIntroduction The EU Digital COVID Certificate (EUDCC) started as an EU-only initiative for the issuance of digital and paper cryptographically verifiable credentials. But today (May 2022) the EU DCC system is currently in use in all EU Member States, EEA countries as well as many countries outside the European Union (67 in total). The map below shows the countries currently operating in the system, but more countries may join the infrastructure after the adoption by the Commission of an ‘equivalence decision’. For example, it does not include many latin-american countries which have already decided to use the same technical standards but have not yet achieved the equivalence agreements.\nFrom the point of view of the technical and operational implementation, the system has been an incredible success, even unimaginable taking into account the speed at which it was designed, developed collaboratively and deployed in production.\nThe EUDCC does not use the W3C Verifiable Credential Data Model, but under the hood its implementation is surprisingly similar to many SSI (Self-Sovereign Identity) ecosystems using Verifiable Credentials. The next figure is a high-level mapping of the EUDCC components into the W3C Verifiable Credential model.\nNatural Persons and Juridical Persons have to be completely segregated Implementations for Natural Persons (NP) and Juridical Persons (JP) should be as separate as possible, to minimise risks of handling NP PII as LP business data.\nWhen the work on W3C Verifiable Credentials [11] and DIDs (Decentralized Identifiers) [10] started, there was a very strong focus on natural persons (versus juridical persons) and in solving some severe problems that citizens have with the current identity systems. Actually, both concepts were somewhat conflated and mixed together.\nHowever, when many initiatives explored the practical application to the real world of Verifiable Credentials, it became clear that those concepts could be used together but were really independent, so two specifications were created. As the current version of the W3C Verifiable Credentials Data Model (v1.1) states (emphasis added):\nAs of this publication, DIDs are a new type of identifier that are not necessary for verifiable credentials to be useful. Specifically, verifiable credentials do not depend on DIDs and DIDs do not depend on verifiable credentials. However, it is expected that many verifiable credentials will use DIDs and that software libraries implementing this specification will probably need to resolve DIDs. DID-based URLs are used for expressing identifiers associated with subjects, issuers, holders, credential status lists, cryptographic keys, and other machine-readable information associated with a verifiable credential.\nBased on the feedback from exploration of real use cases, the W3C Verifiable Credentials Working Group evolved the specification to enable wider coverage of many interesting use cases and taking into account compliance to current country/regional regulation and also industry-specific regulation.\nHowever, the DID specification was not evolved in the same way, keeping its legacy of strong focus on natural persons and trying to avoid any type of central entity, including those whose mission is the protection of the citizen.\nThis lack of real-world feedback can be further appreciated in the fact that both W3C specifications are contradictory. The formal definition of DID [10] states that it is a globally unique persistent identifier.\nHowever, the more mature Verifiable Credentials specification says:\nIf strong anti-correlation properties are a requirement in a verifiable credentials system, it is strongly advised that identifiers are either:\nBound to a single origin Single-use Not used at all, but instead replaced by short-lived, single-use bearer tokens. It seems that the current DID specification shares the same spirit and ideology of Bitcoin and other cryptocurrencies, so a literal interpretation of the document makes it very difficult to use many DID Methods in the real economy and comply with EU regulations like GDPR or the Consumer Protection directive (for natural persons), or compliance to most legal requirements in the EU (for juridical persons).\nThis section describes a real-world interpretation of DIDs which is better suited to the EU environment and at the same time provides the same advantages than the original DID in solving the major problems that citizens have with current identity systems. The focus here is on legal persons, because DIDs for natural persons will probably be handled in the upcoming eIDAS2 regulation and the EU Digital Identity Wallet.\nRequirements on a DID for juridical persons According to the current DID specification, a DID is a new type of identifier with 4 essential characteristics:\ndecentralized: there should be no central issuing agency; persistent: the identifier should be inherently persistent, not requiring the continued operation of an underling organization; cryptographically verifiable: it should be possible to prove control of the identifier cryptographically; resolvable: it should be possible to discover metadata about the identifier. For juridical persons in the EU and many other regions of the world, there is a fundamental problem with the first characteristic. Actually, that characteristic is undesirable in any advanced society that shares the EU values and where the citizen is the most important thing.\nThe EU regulatory environment requires that identities (and identifiers) of any juridical person be completely public and subject to public scrutiny, whether from regulators, consumer organisations, industry watchdogs or any other interested party. Some examples:\nAny of the 30 million businesses in the EU is required by law to register with the appropriate national or international body before being able to engage in any relevant activity. During the process, an identifier is assigned to the business. The registration process and the way to obtain the identifier varies depending on the industry regulation (e.g., banking, telco, health, …) and other factors. The identities of businesses are public and anybody can access all related information from the relevant registries. Even if in some EU countries access is not free, it is public. Information includes many details about the business, including identifier, ownership and place of establishment. Businesses are required to include those identifiers in any relevant transaction, whether they are electronic or offline. When citizens buy any product or service, they have the right to obtain documentation about the purchase including the identifier of the company. Any relevant process in the real economy (agrifood, health, manufacturing, transportation, …) imposes requirements on traceability of the supply chain, related among other with safety, health and consumer protection and the ability to react properly to emergencies. Information recorded and on custody by all businesses participating in the chain has to use the legally valid identifiers of each business. From the above it follows that in the case of juridical persons, requiring an additional identifier that has no legal validity and is not recognised by any authority in the EU does not add any value and does not solve any real problem that businesses have in the EU.\nInstead, it makes more sense to reuse the existing public identifiers which are compulsory for juridical persons and generate the DID deterministically from them.\nIdentification and Verifiable Credentials are separate things Citizens need new private \u0026 safe mechanisms to prove facts about themselves, and many useful applications can be done with existing identification methods.\nMany people assume that Identification and Verifiable Credentials are the same thing because it has been popularised by many SSI implementations, where both concepts are conflated. The W3C Verifiable Credentials Data Model (v1.1) makes the separation very clear, but this does not matter to those people. I think that mixing ideology with technology is never a good thing, and this is what happens many times in this area, the same as with the blockchain technology.\nAs the EU Digital COVID Certificate has proven, there is an immense amount of credentials or certifications that are very useful today in order to prove facts about entities which do not require inventing a new identification system with the corresponding modifications to the supporting laws.\nOff-line Verification and Verifiable Paper MUST be supported Most SSI implementations forget about inclusivity and real privacy and do not support off-line verification or what I call Verifiable Paper.\nEU Digital COVID Certificates support both digital and paper format, and in addition they are capable of off-line verification. A citizen can present a EUDCC in paper format and a verifier can scan the QR code printed in the paper with a verifier app which verifies the digital signature and validity of the public key used to sign the certificate without contacting any server.\nMost SSI implementations do not support paper format for Verifiable Credentials and are exclusively digital and online. The future may be exclusively digital but with the current situation those SSI digital-only implementations are really contributing to the digital divide in the society, contrary to what they publicly announce. For critical use cases for citizens everything should be digital but not in a compulsory manner: there should be other options.\nBy the way, it is not enough to print a QR in a paper. The QR code should contain the whole data of the credential, and the verifier app does not have to request the certificate data from any server. This is not the case with most SSI implementations, where the QR contains a URL that has to be used to get the real certificate. In other words, there is some server somewhere that receives requests from verifier apps each time that a citizen presents a credential in paper format. They may state that all data is encrypted, but this is not enough because the real problem is tracking: the server knows every time you present your certificate and it can even correlate and deduce the place where you are presenting the certificate, based on data from the verifier app requesting your certificate data.\nThis is a very hard problem to solve by most SSI implementations, because the credential is represented in a very verbose format and the resulting QR code is so big that it does not fit naturally in the paper and can not be scanned. This is the reason why they put a URL inside the QR, forcing the verifier to request the certificate data from a server, violating the principles of data privacy.\nThe DID of a citizen should NEVER be registered in any public registry Verifiable Credentials do not need registering anything related to the identification of the citizen in any public registry (e.g. blockchain).\nPrivacy, scalability and interoperability are improved if nothing is registered in a public repository. Temporary Both claims are completely false, and in addition they create a deadlock:\nThey expect new regulation to support their new identification methods, and until then no useful verifiable credentials can be created. The market for converting paper or PDF documents to Verifiable Credentials does not start because they are waiting for new regulation (which by the way will never come in the form that they expect.) In the EU the deadlock will be solved when the new EU Digital Wallet and supporting regulation (the so called eIDAS2) are in place.\n","wordCount":"2203","inLanguage":"en","datePublished":"2022-05-12T20:19:00+02:00","dateModified":"2022-05-12T20:19:00+02:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://hesusruiz.github.io/posts/lessons_eudcc/"},"publisher":{"@type":"Organization","name":"Jesus Ruiz","logo":{"@type":"ImageObject","url":"https://hesusruiz.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script><header class=header><nav class=nav><div class=logo><a href=https://hesusruiz.github.io/ accesskey=h title="Jesus Ruiz (Alt + H)">Jesus Ruiz</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://hesusruiz.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://hesusruiz.github.io/posts/>Posts</a></div><h1 class=post-title>EU Digital COVID Certificate: lessons for SSI and W3C Verifiable Credentials implementers<sup><span class=entry-isdraft>&nbsp;&nbsp;[draft]</span></sup></h1><div class=post-meta><span title='2022-05-12 20:19:00 +0200 +0200'>May 12, 2022</span></div></header><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#introduction aria-label=Introduction>Introduction</a></li><li><a href=#natural-persons-and-juridical-persons-have-to-be-completely-segregated aria-label="Natural Persons and Juridical Persons have to be completely segregated">Natural Persons and Juridical Persons have to be completely segregated</a></li><li><a href=#requirements-on-a-did-for-juridical-persons aria-label="Requirements on a DID for juridical persons">Requirements on a DID for juridical persons</a></li><li><a href=#identification-and-verifiable-credentials-are-separate-things aria-label="Identification and Verifiable Credentials are separate things">Identification and Verifiable Credentials are separate things</a></li><li><a href=#off-line-verification-and-verifiable-paper-must-be-supported aria-label="Off-line Verification and Verifiable Paper MUST be supported">Off-line Verification and Verifiable Paper MUST be supported</a></li><li><a href=#the-did-of-a-citizen-should-never-be-registered-in-any-public-registry aria-label="The DID of a citizen should NEVER be registered in any public registry">The DID of a citizen should NEVER be registered in any public registry</a></li><li><a href=#privacy-scalability-and-interoperability-are-improved-if-nothing-is-registered-in-a-public-repository aria-label="Privacy, scalability and interoperability are improved if nothing is registered in a public repository.">Privacy, scalability and interoperability are improved if nothing is registered in a public repository.</a></li><li><a href=#temporary aria-label=Temporary>Temporary</a></li></ul></div></details></div><div class=post-content><p>Most Self-Sovereign Identity (SSI) implementations conflate different concepts into one tightly coupled thing. They typically merge together <strong>Identification</strong>, <strong>Verifiable Credentials</strong> and a <strong>Verifiable Data Repository</strong>.</p><p>They claim that new identification systems for citizens are required in order to use Verifiable Credentials for solving the problems that citizens have with current identity systems.</p><p>In addition, many SSI systems insist on registering the DIDs of the citizens in an immutable public repository (e.g., a blockchain network), claiming that this is needed in order to increase trust and efficiency.</p><p>Both claims are completely false, and I will use the EU Digital COVID Certificate (EUDCC) implementation to show why.</p><p>The EUDCC does not use the W3C VC data model and is not based in blockchain, but it can be considered as a type of Verifiable Credential. From the technical and operational point of view, it provides many insights for the incipient world of SSI and W3C Verifiable Credentials. In particular:</p><ul><li><p>We do not have to wait for the future EU Digital Wallet to start reaping the benefits of Verifiable Credentials. An immense amount of paper and PDF documents can be converted to secure and efficient Verifiable Credentials in all types of industries, solving real problems of the citizens and improving the trust and efficiency of the society.</p></li><li><p>DIDs of citizens should NEVER be registered in any public repository, and this applies to any type of personal data including Verifiable Credentials or hashes derived from personal data. Many SSI implementations insist on doing it, most probably due to ignorance of designers or even by laziness of programmers. I have not yet found a realistic use case that requires registering personal data in any public repository.</p></li><li><p>As a bonus from not registering any personal data in the public repository, the system is massively parallel and can scale to millions of credentials issued and verified without any impact on performance.</p></li><li><p>Inclusivity requires support for paper format without reducing trust or privacy, something I call <em>Verifiable Paper</em>. Most SSI implementations do not support paper format, or if they do it is ate the expense of reduced privacy and risk of tracking of citizen&rsquo;s usage of credentials.</p></li></ul><p>In this short document I use the EUDCC implementation as an example to illustrate the points above. In addition, the exercise also shows possible paths to improve the current EUDCC implementation by converting it into a full-fledged Verifiable Credentials ecosystem.</p><h1 id=introduction>Introduction<a hidden class=anchor aria-hidden=true href=#introduction>#</a></h1><p>The EU Digital COVID Certificate (EUDCC) started as an EU-only initiative for the issuance of digital and paper cryptographically verifiable credentials. But today (May 2022) the EU DCC system is currently in use in all EU Member States, EEA countries as well as many countries outside the European Union (67 in total). The map below shows the countries currently operating in the system, but more countries may join the infrastructure after the adoption by the Commission of an ‘equivalence decision’. For example, it does not include many latin-american countries which have already decided to use the same technical standards but have not yet achieved the equivalence agreements.</p><p><img loading=lazy src=eudcc_map_countries.png alt="Map of countries using EUDCC"></p><p>From the point of view of the technical and operational implementation, the system has been an incredible success, even unimaginable taking into account the speed at which it was designed, developed collaboratively and deployed in production.</p><p>The EUDCC does not use the W3C Verifiable Credential Data Model, but under the hood its implementation is surprisingly similar to many SSI (Self-Sovereign Identity) ecosystems using Verifiable Credentials. The next figure is a high-level mapping of the EUDCC components into the W3C Verifiable Credential model.</p><p><img loading=lazy src=eudcc_mapping_to_w3c.png alt></p><h1 id=natural-persons-and-juridical-persons-have-to-be-completely-segregated>Natural Persons and Juridical Persons have to be completely segregated<a hidden class=anchor aria-hidden=true href=#natural-persons-and-juridical-persons-have-to-be-completely-segregated>#</a></h1><p><strong>Implementations for Natural Persons (NP) and Juridical Persons (JP) should be as separate as possible, to minimise risks of handling NP PII as LP business data.</strong></p><p><img loading=lazy src=eudcc_segregate_natural_persons.png alt></p><p>When the work on W3C Verifiable Credentials [11] and DIDs (Decentralized Identifiers) [10] started, there was a very strong focus on natural persons (versus juridical persons) and in solving some severe problems that citizens have with the current identity systems. Actually, both concepts were somewhat conflated and mixed together.</p><p>However, when many initiatives explored the practical application to the real world of Verifiable Credentials, it became clear that those concepts could be used together but were really independent, so two specifications were created. As the current version of the W3C Verifiable Credentials Data Model (v1.1) states (emphasis added):</p><blockquote><p>As of this publication, DIDs are a new type of identifier that <strong>are not necessary for verifiable credentials to be useful</strong>. Specifically, <strong>verifiable credentials do not depend on DIDs and DIDs do not depend on verifiable credentials</strong>. However, it is expected that many verifiable credentials will use DIDs and that software libraries implementing this specification will probably need to resolve DIDs. DID-based URLs are used for expressing identifiers associated with subjects, issuers, holders, credential status lists, cryptographic keys, and other machine-readable information associated with a verifiable credential.</p></blockquote><p>Based on the feedback from exploration of real use cases, the W3C Verifiable Credentials Working Group evolved the specification to enable wider coverage of many interesting use cases and taking into account compliance to current country/regional regulation and also industry-specific regulation.</p><p>However, the DID specification was not evolved in the same way, keeping its legacy of strong focus on natural persons and trying to avoid any type of central entity, including those whose mission is the protection of the citizen.</p><p>This lack of real-world feedback can be further appreciated in the fact that both W3C specifications are contradictory. The formal definition of DID [10] states that it is a <em>globally unique persistent identifier</em>.</p><p>However, the more mature Verifiable Credentials specification says:</p><blockquote><p>If strong anti-correlation properties are a requirement in a verifiable credentials system, it is strongly advised that identifiers are either:</p><ul><li>Bound to a single origin</li><li>Single-use</li><li>Not used at all, but instead replaced by short-lived, single-use bearer tokens.</li></ul></blockquote><p>It seems that the current DID specification shares the same spirit and ideology of Bitcoin and other cryptocurrencies, so a literal interpretation of the document makes it very difficult to use many DID Methods in the real economy and comply with EU regulations like GDPR or the Consumer Protection directive (for natural persons), or compliance to most legal requirements in the EU (for juridical persons).</p><p>This section describes a real-world interpretation of DIDs which is better suited to the EU environment and at the same time provides the same advantages than the original DID in solving the major problems that citizens have with current identity systems.
The focus here is on legal persons, because DIDs for natural persons will probably be handled in the upcoming eIDAS2 regulation and the EU Digital Identity Wallet.</p><h1 id=requirements-on-a-did-for-juridical-persons>Requirements on a DID for juridical persons<a hidden class=anchor aria-hidden=true href=#requirements-on-a-did-for-juridical-persons>#</a></h1><p>According to the current DID specification, a DID is a new type of identifier with 4 essential characteristics:</p><ul><li><strong>decentralized</strong>: there should be no central issuing agency;</li><li><strong>persistent</strong>: the identifier should be inherently persistent, not requiring the continued operation of an underling organization;</li><li><strong>cryptographically verifiable</strong>: it should be possible to prove control of the identifier cryptographically;</li><li><strong>resolvable</strong>: it should be possible to discover metadata about the identifier.</li></ul><p>For juridical persons in the EU and many other regions of the world, there is a fundamental problem with the first characteristic. Actually, that characteristic is undesirable in any advanced society that shares the EU values and where the citizen is the most important thing.</p><p>The EU regulatory environment requires that identities (and identifiers) of any juridical person be completely public and subject to public scrutiny, whether from regulators, consumer organisations, industry watchdogs or any other interested party. Some examples:</p><ul><li>Any of the 30 million businesses in the EU is required by law to register with the appropriate national or international body before being able to engage in any relevant activity. During the process, an identifier is assigned to the business. The registration process and the way to obtain the identifier varies depending on the industry regulation (e.g., banking, telco, health, &mldr;) and other factors.</li><li>The identities of businesses are public and anybody can access all related information from the relevant registries. Even if in some EU countries access is not free, it is public. Information includes many details about the business, including identifier, ownership and place of establishment.</li><li>Businesses are required to include those identifiers in any relevant transaction, whether they are electronic or offline. When citizens buy any product or service, they have the right to obtain documentation about the purchase including the identifier of the company.</li><li>Any relevant process in the real economy (agrifood, health, manufacturing, transportation, &mldr;) imposes requirements on traceability of the supply chain, related among other with safety, health and consumer protection and the ability to react properly to emergencies. Information recorded and on custody by all businesses participating in the chain has to use the legally valid identifiers of each business.</li></ul><p>From the above it follows that in the case of juridical persons, requiring an additional identifier that has no legal validity and is not recognised by any authority in the EU does not add any value and does not solve any real problem that businesses have in the EU.</p><p>Instead, it makes more sense to reuse the existing public identifiers which are compulsory for juridical persons and generate the DID deterministically from them.</p><h1 id=identification-and-verifiable-credentials-are-separate-things>Identification and Verifiable Credentials are separate things<a hidden class=anchor aria-hidden=true href=#identification-and-verifiable-credentials-are-separate-things>#</a></h1><p><strong>Citizens need new private & safe mechanisms to prove facts about themselves, and many useful applications can be done with existing identification methods.</strong></p><p>Many people assume that Identification and Verifiable Credentials are the same thing because it has been popularised by many SSI implementations, where both concepts are conflated. The W3C Verifiable Credentials Data Model (v1.1) makes the separation very clear, but this does not matter to those people. I think that mixing ideology with technology is never a good thing, and this is what happens many times in this area, the same as with the blockchain technology.</p><p>As the EU Digital COVID Certificate has proven, there is an immense amount of credentials or certifications that are very useful today in order to prove facts about entities which do not require inventing a new identification system with the corresponding modifications to the supporting laws.</p><h1 id=off-line-verification-and-verifiable-paper-must-be-supported>Off-line Verification and Verifiable Paper MUST be supported<a hidden class=anchor aria-hidden=true href=#off-line-verification-and-verifiable-paper-must-be-supported>#</a></h1><p>Most SSI implementations forget about inclusivity and real privacy and do not support off-line verification or what I call <em>Verifiable Paper</em>.</p><p>EU Digital COVID Certificates support both digital and paper format, and in addition they are capable of off-line verification. A citizen can present a EUDCC in paper format and a verifier can scan the QR code printed in the paper with a verifier app which verifies the digital signature and validity of the public key used to sign the certificate <strong>without</strong> contacting any server.</p><p>Most SSI implementations do not support paper format for Verifiable Credentials and are exclusively digital and online. The <a href=https://ec.europa.eu/commission/presscorner/detail/en/QANDA_21_984>future may be exclusively digital</a> but with the current situation those SSI digital-only implementations are really contributing to the <a href="https://ec.europa.eu/eurostat/statistics-explained/index.php?title=Glossary:Digital_divide">digital divide</a> in the society, contrary to what they publicly announce. For critical use cases for citizens everything should be digital but not in a compulsory manner: there should be other options.</p><p>By the way, it is not enough to print a QR in a paper. The QR code should contain the whole data of the credential, and the verifier app does not have to request the certificate data from any server. This is not the case with most SSI implementations, where the QR contains a URL that has to be used to get the real certificate. In other words, there is some server somewhere that receives requests from verifier apps each time that a citizen presents a credential in paper format. They may state that all data is encrypted, but this is not enough because the real problem is tracking: the server knows every time you present your certificate and it can even correlate and deduce the place where you are presenting the certificate, based on data from the verifier app requesting your certificate data.</p><p>This is a very hard problem to solve by most SSI implementations, because the credential is represented in a very verbose format and the resulting QR code is so big that it does not fit naturally in the paper and can not be scanned. This is the reason why they put a URL inside the QR, forcing the verifier to request the certificate data from a server, violating the principles of data privacy.</p><h1 id=the-did-of-a-citizen-should-never-be-registered-in-any-public-registry>The DID of a citizen should NEVER be registered in any public registry<a hidden class=anchor aria-hidden=true href=#the-did-of-a-citizen-should-never-be-registered-in-any-public-registry>#</a></h1><p>Verifiable Credentials do not need registering anything related to the identification of the citizen in any public registry (e.g. blockchain).</p><h1 id=privacy-scalability-and-interoperability-are-improved-if-nothing-is-registered-in-a-public-repository>Privacy, scalability and interoperability are improved if nothing is registered in a public repository.<a hidden class=anchor aria-hidden=true href=#privacy-scalability-and-interoperability-are-improved-if-nothing-is-registered-in-a-public-repository>#</a></h1><h1 id=temporary>Temporary<a hidden class=anchor aria-hidden=true href=#temporary>#</a></h1><p>Both claims are completely false, and in addition they create a deadlock:</p><ul><li>They expect new regulation to support their new identification methods, and until then no useful verifiable credentials can be created.</li><li>The market for converting paper or PDF documents to Verifiable Credentials does not start because they are waiting for new regulation (which by the way will never come in the form that they expect.)</li></ul><p>In the EU the deadlock will be solved when the new EU Digital Wallet and supporting regulation (the so called eIDAS2) are in place.</p></div><footer class=post-footer><ul class=post-tags></ul><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share EU Digital COVID Certificate: lessons for SSI and W3C Verifiable Credentials implementers on twitter" href="https://twitter.com/intent/tweet/?text=EU%20Digital%20COVID%20Certificate%3a%20lessons%20for%20SSI%20and%20W3C%20Verifiable%20Credentials%20implementers&url=https%3a%2f%2fhesusruiz.github.io%2fposts%2flessons_eudcc%2f&hashtags="><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share EU Digital COVID Certificate: lessons for SSI and W3C Verifiable Credentials implementers on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fhesusruiz.github.io%2fposts%2flessons_eudcc%2f&title=EU%20Digital%20COVID%20Certificate%3a%20lessons%20for%20SSI%20and%20W3C%20Verifiable%20Credentials%20implementers&summary=EU%20Digital%20COVID%20Certificate%3a%20lessons%20for%20SSI%20and%20W3C%20Verifiable%20Credentials%20implementers&source=https%3a%2f%2fhesusruiz.github.io%2fposts%2flessons_eudcc%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share EU Digital COVID Certificate: lessons for SSI and W3C Verifiable Credentials implementers on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fhesusruiz.github.io%2fposts%2flessons_eudcc%2f&title=EU%20Digital%20COVID%20Certificate%3a%20lessons%20for%20SSI%20and%20W3C%20Verifiable%20Credentials%20implementers"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share EU Digital COVID Certificate: lessons for SSI and W3C Verifiable Credentials implementers on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fhesusruiz.github.io%2fposts%2flessons_eudcc%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share EU Digital COVID Certificate: lessons for SSI and W3C Verifiable Credentials implementers on whatsapp" href="https://api.whatsapp.com/send?text=EU%20Digital%20COVID%20Certificate%3a%20lessons%20for%20SSI%20and%20W3C%20Verifiable%20Credentials%20implementers%20-%20https%3a%2f%2fhesusruiz.github.io%2fposts%2flessons_eudcc%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share EU Digital COVID Certificate: lessons for SSI and W3C Verifiable Credentials implementers on telegram" href="https://telegram.me/share/url?text=EU%20Digital%20COVID%20Certificate%3a%20lessons%20for%20SSI%20and%20W3C%20Verifiable%20Credentials%20implementers&url=https%3a%2f%2fhesusruiz.github.io%2fposts%2flessons_eudcc%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://hesusruiz.github.io/>Jesus Ruiz</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script></body></html>